import{r as o,n as x,u as b,j as e}from"./index-BOqC0aib.js";const f="_loginContainer_frbok_1",h="_loginTitle_frbok_11",j="_loginForm_frbok_19",v="_input_frbok_24",y="_submitButton_frbok_42",N="_errorMessage_frbok_65",S="_loadingOverlay_frbok_76",k="_loadingSpinner_frbok_83",T="_infoText_frbok_100",s={loginContainer:f,loginTitle:h,loginForm:j,input:v,submitButton:y,errorMessage:N,loadingOverlay:S,loadingSpinner:k,infoText:T},w=()=>{const[a,u]=o.useState(""),[i,g]=o.useState(""),[l,r]=o.useState(""),[t,c]=o.useState(!1),{login:m}=x(),_=b(),p=async n=>{n.preventDefault(),r(""),c(!0);try{await m(a,i)?_("/admin/dashboard"):r("Ошибка входа: Проверьте логин/пароль")}catch(d){r("Произошла ошибка при входе. Попробуйте снова."),console.error("Login error:",d)}finally{c(!1)}};return e.jsxs("div",{className:s.loginContainer,children:[e.jsx("h2",{className:s.loginTitle,children:"Вход в Админ-Панель"}),l&&e.jsx("div",{className:s.errorMessage,children:l}),e.jsxs("form",{onSubmit:p,className:s.loginForm,children:[e.jsx("input",{type:"text",placeholder:"Логин",value:a,onChange:n=>u(n.target.value),required:!0,className:s.input,disabled:t}),e.jsx("input",{type:"password",placeholder:"Пароль",value:i,onChange:n=>g(n.target.value),required:!0,className:s.input,disabled:t}),e.jsx("button",{type:"submit",className:s.submitButton,disabled:t,children:t?e.jsx("div",{className:s.loadingOverlay,children:e.jsx("div",{className:s.loadingSpinner})}):"Войти"})]}),e.jsxs("div",{className:s.infoText,children:[e.jsx("p",{children:"Для ВКР используются"}),e.jsxs("p",{children:[e.jsx("strong",{children:"Логин:"})," admin ",e.jsx("strong",{children:"Пароль:"})," admin"]})]})]})};export{w as default};
